CREATE TABLE PERSON(
  id_Person CHAR(4),
  names VARCHAR2(10),
  lastName VARCHAR2(15),
  phone NUMBER(9),
  address VARCHAR2(20),
  email VARCHAR2(20) 
);


CREATE TABLE TEACHER(
  id_Person CHAR(4),
  code_Teacher CHAR(4)
);


CREATE TABLE STUDENT(
  id_Person CHAR(4),
  code_Student CHAR(4),
  id_School CHAR(4)
);

CREATE TABLE School(
    id_School   CHAR(4),
    id_Faculty varchar2(4),
    nameSchool varchar2(15)
);

CREATE TABLE Faculty(
    id_Faculty CHAR(4),
    nameFaculty varchar2(15)
);

CREATE TABLE SOLUTION (
  id_Solution Number(10),
  id_Person CHAR(4),
  id_Exam CHAR(4),
  note NUMBER(2,1)
);

CREATE TABLE EXAM (
  id_Exam CHAR(4),
  nameSubject VARCHAR2(15)
);

CREATE TABLE Answers_Student(
    id_AnswersStudent CHAR(4),
    id_Solution Number(10),
    answer char(15),
    n_question number(2)
);

CREATE TABLE QUESTION_EXAM (
  id_QuestionsExam CHAR(4),
  id_Exam CHAR(4),
  question CHAR(15),
  n_question NUMBER(2)
);


create table SUBJECT (

  id_Subject	CHAR(4),
  namesubject	VARCHAR2(15)
  
);

create table CLAS (

  id_Class	NUMBER(10),
  id_Subject	CHAR(4),
  id_Person	CHAR(4),
  group1		VARCHAR(20)	
);

create table CLAS-STUDENT (

  id_Class_Alumno	NUMBER(10),
  id_Class		NUMBER(10),
  id_Person		CHAR(4)	
);


create table THEME (
  id_Theme CHAR(4),
  id_Subject CHAR(4),
  nameTheme VARCHAR2(15) 
);

create table QUESTION (
  id_Question CHAR (4),
  id_Theme CHAR(4),
  question VARCHAR2(15),
  score NUMBER(1)
);

create table ALTERNATIVE(
  id_Alternative CHAR (4),
  id_Question CHAR(4),
  alternativeA VARCHAR2(15),
  alternativeB VARCHAR2(15),
  alternativeC VARCHAR2(15),
  answer VARCHAR2(15)
);



ALTER TABLE PERSON ADD CONSTRAINT PK_PERSON PRIMARY KEY (id_Person);
ALTER TABLE STUDENT ADD CONSTRAINT PK_STUDENT PRIMARY KEY (id_Person);
ALTER TABLE TEACHER ADD CONSTRAINT PK_TEACHER PRIMARY KEY (id_Person);
ALTER TABLE STUDENT ADD FOREIGN KEY (id_Person) REFERENCES PERSON;
ALTER TABLE STUDENT ADD FOREIGN KEY (id_School) REFERENCES SCHOOL;
ALTER TABLE TEACHER ADD FOREIGN KEY (id_Person) REFERENCES PERSON;

ALTER TABLE PERSON MODIFY (names NOT NULL ENABLE);
ALTER TABLE PERSON MODIFY (lastname NOT NULL ENABLE);
ALTER TABLE PERSON MODIFY (phone NOT NULL ENABLE);
ALTER TABLE PERSON MODIFY (address NOT NULL ENABLE);
ALTER TABLE PERSON MODIFY (email NOT NULL ENABLE);
ALTER TABLE STUDENT MODIFY (code_Student NOT NULL ENABLE);
ALTER TABLE TEACHER MODIFY (code_Teacher NOT NULL ENABLE);



ALTER TABLE Faculty ADD CONSTRAINT id_Faculty_PK PRIMARY KEY (id_Faculty);
ALTER TABLE School ADD CONSTRAINT id_School_PK PRIMARY KEY (id_School);
ALTER TABLE School ADD CONSTRAINT id_Faculty_FK FOREIGN KEY (id_Faculty) REFERENCES Faculty(id_Faculty);
ALTER TABLE Answers_Student ADD CONSTRAINT id_Person_FK FOREIGN KEY (id_Person) REFERENCES Solution(id_Person);    
ALTER TABLE Answers_Student ADD CONSTRAINT id_Exam_FK FOREIGN KEY (id_Exam) REFERENCES Solution(id_Exam);

ALTER TABLE Faculty MODIFY (nameFaculty NOT NULL ENABLE);
ALTER TABLE School MODIFY (nameSchool NOT NULL ENABLE);
ALTER TABLE Answers_Student MODIFY (answer NOT NULL ENABLE);
ALTER TABLE Answers_Student MODIFY (n_question NOT NULL ENABLE);


ALTER TABLE EXAM ADD CONSTRAINT EXAM_PK PRIMARY KEY (id_Exam);
ALTER TABLE QUESTION_EXAM ADD CONSTRAINT QUESTION_EXAM_FK FOREIGN KEY (id_Exam) References EXAM(id_Exam);
ALTER TABLE SOLUTION ADD CONSTRAINT SOLUTION_PK PRIMARY KEY (id_Person, id_Exam);
ALTER TABLE SOLUTION ADD CONSTRAINT SOLUTION_FK FOREIGN KEY (id_Person) REFERENCES STUDENT(id_Person);
ALTER TABLE SOLUTION ADD CONSTRAINT SOLUTION2_FK FOREIGN KEY (id_Exam) REFERENCES EXAM(id_Exam);

ALTER TABLE SOLUTION MODIFY (note NOT NULL ENABLE);
------FALTA LA PARTE DE ANGEL !!!!!! 
ALTER TABLE SUBJECT ADD CONSTRAINT SUBJECT_PK PRIMARY KEY (id_Subject);
ALTER TABLE CLAS ADD CONSTRAINT CLAS_FK PRIMARY KEY (id_Class);
ALTER TABLE CLAS ADD CONSTRAINT CLAS_PK FOREIGN KEY SUBJECT(id_Subject);
ALTER TABLE CLAS ADD CONSTRAINT CLAS_FK1 FOREIGN KEY (id_Person) REFERENCES STUDENT(id_Person);
ALTER TABLE CLAS-STUDENT ADD CONSTRAINT CLAS-STUDENT_PK PRIMARY KEY (id_Class_Alumno);
ALTER TABLE CLAS-STUDENT  ADD CONSTRAINT CLAS-STUDENT_FK FOREIGN KEY (id_Clas) REFERENCES Clas(id_Clas);
ALTER TABLE CLAS-STUDENT  ADD CONSTRAINT CLAS-STUDENT_FK1 FOREIGN KEY (id_Person) REFERENCES STUDENT(id_Person);

ALTER TABLE THEME ADD CONSTRAINT THEME_PK PRIMARY KEY (id_Theme);
ALTER TABLE THEME ADD CONSTRAINT THEME_FK FOREIGN KEY (id_Subject) REFERENCES SUBJECT(id_Subject);
ALTER TABLE QUESTION ADD CONSTRAINT QUESTION_PK PRIMARY KEY(id_Question);
ALTER TABLE QUESTION ADD CONSTRAINT QUESTION_FK FOREIGN KEY(id_Theme) REFERENCES THEME(id_Theme);
ALTER TABLE ALTERNATIVE ADD CONSTRAINT ALTERNATIVE_PK PRIMARY KEY (id_Alternative);
ALTER TABLE ALTERNATIVE ADD CONSTRAINT ALTERNATIVE_FK FOREIGN KEY(id_Question) REFERENCES QUESTION(id_Question);

ALTER TABLE THEME MODIFY (nameTheme NOT NULL ENABLE);
ALTER TABLE QUESTION MODIFY (score NOT NULL ENABLE);
ALTER TABLE QUESTION MODIFY (question NOT NULL ENABLE);
ALTER TABLE ALTERNATIVE MODIFY (alternativeA NOT NULL ENABLE);
ALTER TABLE ALTERNATIVE MODIFY (alternativeB NOT NULL ENABLE);
ALTER TABLE ALTERNATIVE MODIFY (alternativeC NOT NULL ENABLE);
